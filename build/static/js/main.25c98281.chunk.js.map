{"version":3,"sources":["Input.js","List.js","Filter.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Input","name","setNewName","phone","setNewPhone","handleSubmit","onSubmit","value","onChange","event","target","type","List","persons","filter","handleDelete","regex","RegExp","filtered","person","match","map","number","onClick","window","confirm","id","Filter","setFilter","Notification","info","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","message","baseUrl","PersonService","getAll","axios","get","then","resp","data","addNew","personInfo","post","updateNumber","newInfo","put","deletePerson","delete","NOTIF_SHOW_PERIOD","App","useState","newName","newPhone","setPersons","notif","setNotif","useEffect","personService","response","preventDefault","undefined","find","elem","changedPerson","console","log","setTimeout","catch","err","persInfo","concat","error","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.25c98281.chunk.js","sourcesContent":["const Input = ({name, setNewName, phone, setNewPhone, handleSubmit}) => {\r\n  \r\n    const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n    }\r\n  \r\n    const handlePhoneChange = (event) => {\r\n      setNewPhone(event.target.value)\r\n    }\r\n  \r\n    return (\r\n        <>\r\n        <h1>Add a new entry</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>Name:</label>\r\n                <input value={name} onChange={handleNameChange} /><br />\r\n                <label>Number:</label>\r\n                <input value={phone} onChange={handlePhoneChange} /><br />\r\n                <button type='submit'>Add</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Input","const List = ({persons, filter, handleDelete}) => {\r\n    const regex  = new RegExp(filter, 'i')\r\n    const filtered = persons.filter(person => person.name.match(regex))\r\n    return (<>\r\n        <h1>Numbers</h1>\r\n        <ul>\r\n            {filtered.map(person => \r\n            <li key={person.id}>{person.name} {person.number}<button onClick={() => {\r\n                if(window.confirm(`Delete ${person.name}?`))\r\n                    handleDelete(person.id)\r\n            }}>Delete</button></li>\r\n            )}\r\n        </ul>\r\n        </>)\r\n}\r\n\r\nexport default List","const Filter = ({filter, setFilter}) => {\r\n    const handleFilterChange = (event) => setFilter(event.target.value)\r\n    return (\r\n        <>\r\n        <label>Filter shown containing </label>\r\n        <input value={filter} onChange={handleFilterChange} /><br />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","const Notification = ({info}) => {\r\n    if(info === null) return null\r\n    const style = {\r\n        color: info.color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n    return <p style={style}>{info.message}</p>\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl='/api/persons'\r\n\r\nconst getAll = () => {\r\n    const req = axios.get(baseUrl)\r\n    return req.then(resp => resp.data)\r\n}\r\n\r\nconst addNew = personInfo => {\r\n    const req = axios.post(baseUrl, personInfo)\r\n    return req.then(resp => resp.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const req = axios.delete(`${baseUrl}\\\\${id}`)\r\n    return req.then(resp => resp.data)\r\n}\r\n\r\nconst updateNumber = (id, newInfo) => {\r\n    const req = axios.put(`${baseUrl}\\\\${id}`, newInfo)\r\n    return req.then(resp => resp.data)\r\n}\r\n\r\nconst PersonService = {\r\n    getAll,\r\n    addNew,\r\n    updateNumber,\r\n    deletePerson\r\n}\r\n\r\nexport default PersonService","import React, {useState, useEffect} from 'react'\nimport Input from './Input'\nimport List from './List'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport personService from './services/persons'\n\nconst NOTIF_SHOW_PERIOD = 5000\n\nconst App = () => {\n\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ persons, setPersons ] = useState([])\n  const [ filter, setFilter ] = useState('')\n  const [ notif, setNotif ] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  },[])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if(persons.find(elem => elem.name === newName) !== undefined){\n      if(window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)){\n        const person = persons.find(person => person.name === newName)\n        const changedPerson = {...person, number: newPhone}\n        personService.updateNumber(person.id, changedPerson)\n          .then(resp => {\n            console.log(resp)\n            setPersons(persons.map(person => person.name === newName ? resp : person))\n            setNotif({message: `Numer of ${newName} has been successfully changed`, color: 'green'})\n            setTimeout(() => setNotif(null), NOTIF_SHOW_PERIOD)\n          })\n          .catch((err) => {\n            setNotif({message: `Information of ${person.name} has already been deleted from the server`, color: 'red'})\n            setTimeout(() => setNotif(null), NOTIF_SHOW_PERIOD)\n          })\n      }\n    }\n    else {\n      const persInfo = {\n        name: newName,\n        number: newPhone\n      }\n      personService.addNew(persInfo).then(resp => {\n          setPersons(persons.concat(resp))\n          setNotif({message: `Added ${newName}`, color: 'green'})\n          setNewName('')\n          setNewPhone('')\n          setTimeout(() => setNotif(null), NOTIF_SHOW_PERIOD)\n        }).catch(error => console.log(error))\n      }\n  }\n\n  const handleDelete = id => {\n    personService.deletePerson(id)\n      .then(resp => {\n        setPersons(persons.filter(person => person.id !== id))\n        setNotif({message: `Deleted ${persons.find(p => p.id=== id).name}`, color: 'green'})\n        setTimeout(() => setNotif(null), NOTIF_SHOW_PERIOD)\n      })\n  }\n\n  return (\n    <div>\n      <Notification info={notif} />\n      <h1>Phonebook</h1>\n      <Filter filter={filter} setFilter={setFilter} />\n      <Input name={newName} setNewName={setNewName} handleSubmit={handleSubmit}\n              phone={newPhone} setNewPhone={setNewPhone}/>\n      <List persons={persons} filter={filter} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}